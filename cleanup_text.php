
$bc[] = "\xce\xbc"; $fc[] = "u"; # μ

$bc[] = "\xc2\x9d"; $fc[] = ""; #
$bc[] = "\xc2\xa0"; $fc[] = " "; #  Non breaking space
$bc[] = "\xc2\xa1"; $fc[] = "i"; #¡
$bc[] = "\xc2\xa2"; $fc[] = "cents"; #¢
$bc[] = "\xc2\xa3"; $fc[] = "pound sterling"; #£
$bc[] = "\xc2\xa4"; $fc[] = "#"; #¤
$bc[] = "\xc2\xa5"; $fc[] = "Yen"; #¥
$bc[] = "\xc2\xa7"; $fc[] = "Sec."; #§
$bc[] = "\xc2\xa8"; $fc[] = "~"; #¨
$bc[] = "\xc2\xa9"; $fc[] = " Copyright (c) "; #©
$bc[] = "\xc2\xaa"; $fc[] = "(a)"; #ª
$bc[] = "\xc2\xab"; $fc[] = "<<"; #«
$bc[] = "\xc2\xac"; $fc[] = " "; #¬
$bc[] = "\xc2\xad"; $fc[] = ""; #­ soft Hyphen
$bc[] = "\xc2\xae"; $fc[] = "(R)";
$bc[] = "\xc2\xaf"; $fc[] = ""; #¯
$bc[] = "\xc2\xb0"; $fc[] = " "; #°
$bc[] = "\xc2\xb1"; $fc[] = "+-"; #±
$bc[] = "\xc2\xb2"; $fc[] = "(2)"; #²
$bc[] = "\xc2\xb3"; $fc[] = "(3)"; #³
$bc[] = "\xc2\xb4"; $fc[] = "'"; #´
$bc[] = "\xc2\xb5"; $fc[] = "u"; #µ
$bc[] = "\xc2\xb6"; $fc[] = "\n"; #¶
$bc[] = "\xc2\xb7"; $fc[] = "."; #·
$bc[] = "\xc2\xb9"; $fc[] = "(1)"; #¹
$bc[] = "\xc2\xba"; $fc[] = "-"; #º
$bc[] = "\xc2\xbb"; $fc[] = "\""; #»
$bc[] = "\xc2\xbc"; $fc[] = "1/4";
$bc[] = "\xc2\xbd"; $fc[] = "1/2";
$bc[] = "\xc2\xbe"; $fc[] = "3/4";
$bc[] = "\xc2\xbf"; $fc[] = ""; #¿
$bc[] = "\xc2\xb0"; $fc[] = " degrees"; #°

$bc[] = "\xca\xbb"; $fc[] = "";  #ʻ from Hawaiʻi

## found from bad characters
$bc[] = "\xc3\x80"; $fc[] = "A"; #À
$bc[] = "\xc3\x81"; $fc[] = "A"; #Á
$bc[] = "\xc3\x82"; $fc[] = "A"; #Â
$bc[] = "\xc3\x83"; $fc[] = "A"; #Ã
$bc[] = "\xc3\x84"; $fc[] = "A"; #Ä
$bc[] = "\xc3\x85"; $fc[] = "A"; #Å
$bc[] = "\xc3\x86"; $fc[] = "AE"; #Æ
$bc[] = "\xc3\x87"; $fc[] = "C"; #Ç
$bc[] = "\xc3\x88"; $fc[] = "E"; #È
$bc[] = "\xc3\x89"; $fc[] = "E"; #É
$bc[] = "\xc3\x90"; $fc[] = "D"; #Ð
$bc[] = "\xc3\x8a"; $fc[] = "E"; #Ê
$bc[] = "\xc3\x8d"; $fc[] = "I"; #Í
$bc[] = "\xc3\x91"; $fc[] = "N"; #Ñ
$bc[] = "\xc3\x92"; $fc[] = "O"; #Ò
$bc[] = "\xc3\x93"; $fc[] = "O"; #Ó
$bc[] = "\xc3\x96"; $fc[] = "O"; #Ö
$bc[] = "\xc3\x97"; $fc[] = "x"; #×
$bc[] = "\xc3\x98"; $fc[] = "0"; #Ø
$bc[] = "\xc3\x9a"; $fc[] = "U"; #Ú
$bc[] = "\xc3\x9c"; $fc[] = "U"; #Ü
$bc[] = "\xc3\x9d"; $fc[] = "Y"; #Ý
$bc[] = "\xc3\x9f"; $fc[] = "B"; #ß

$bc[] = "\xc3\xa0"; $fc[] = "a"; #à
$bc[] = "\xc3\xa1"; $fc[] = "a"; #á
$bc[] = "\xc3\xa2"; $fc[] = "a"; #â
$bc[] = "\xc3\xa3"; $fc[] = "a"; #ã
$bc[] = "\xc3\xa4"; $fc[] = "a"; #ä
$bc[] = "\xc3\xa5"; $fc[] = "a"; #å
$bc[] = "\xc3\xa6"; $fc[] = "ae"; #æ
$bc[] = "\xc3\xa7"; $fc[] = "c"; #ç
$bc[] = "\xc3\xa8"; $fc[] = "e"; #è
$bc[] = "\xc3\xa9"; $fc[] = "e"; #é
$bc[] = "\xc3\xaa"; $fc[] = "e"; #ê
$bc[] = "\xc3\xab"; $fc[] = "e"; #ë
$bc[] = "\xc3\xac"; $fc[] = "i"; #ì
$bc[] = "\xc3\xad"; $fc[] = "i"; #í
$bc[] = "\xc3\xae"; $fc[] = "i"; #í
$bc[] = "\xc3\xaf"; $fc[] = "i"; #ï
$bc[] = "\xc3\xb0"; $fc[] = "o"; #ð
$bc[] = "\xc3\xb1"; $fc[] = "n"; #ñ
$bc[] = "\xc3\xb2"; $fc[] = "o"; #ò
$bc[] = "\xc3\xb3"; $fc[] = "o"; #ó
$bc[] = "\xc3\xb4"; $fc[] = "o"; #ô
$bc[] = "\xc3\xb5"; $fc[] = "o"; #õ
$bc[] = "\xc3\xb6"; $fc[] = "o"; #ö
$bc[] = "\xc3\xb7"; $fc[] = "/"; # division sign
$bc[] = "\xc3\xb8"; $fc[] = "o"; #ø
$bc[] = "\xc3\xb9"; $fc[] = "u"; #ú
$bc[] = "\xc3\xba"; $fc[] = "u"; #ú
$bc[] = "\xc3\xbb"; $fc[] = "u"; #û
$bc[] = "\xc3\xbc"; $fc[] = "u"; #ü
$bc[] = "\xc3\xbd"; $fc[] = "y"; #ý
$bc[] = "\xc3\xbe"; $fc[] = "y"; #þ
$bc[] = "\xc3\xbf"; $fc[] = "y"; #ÿ







## now handle new multi byte characters from UTF
$bc[] = "\xe2\x80\x82"; $fc[] = "";
$bc[] = "\xe2\x80\x83"; $fc[] = "";
$bc[] = "\xe2\x80\x89"; $fc[] = "";
$bc[] = "\xe2\x80\x8a"; $fc[] = " ";
$bc[] = "\xe2\x80\x8b"; $fc[] = "";
$bc[] = "\xe2\x80\x8c"; $fc[] = "";
$bc[] = "\xe2\x80\x8d"; $fc[] = "";
$bc[] = "\xe2\x80\x8e"; $fc[] = "";
$bc[] = "\xe2\x80\x8F"; $fc[] = "";
$bc[] = "\xe2\x80\x90"; $fc[] = "-";
$bc[] = "\xe2\x80\x91"; $fc[] = " ";
$bc[] = "\xe2\x80\x92"; $fc[] = " ";
$bc[] = "\xe2\x80\x93"; $fc[] = "-";
$bc[] = "\xe2\x80\x94"; $fc[] = "--";
$bc[] = "\xe2\x80\x98"; $fc[] = "'";
$bc[] = "\xe2\x80\x99"; $fc[] = "'";
$bc[] = "\xe2\x80\x9a"; $fc[] = "'";
$bc[] = "\xe2\x80\x9c"; $fc[] = '"';
$bc[] = "\xe2\x80\x9d"; $fc[] = '"';
$bc[] = "\xe2\x80\x9e"; $fc[] = '"';
$bc[] = "\xe2\x80\xa0"; $fc[] = "";
$bc[] = "\xe2\x80\xaf"; $fc[] = " ";
$bc[] = "\xe2\x80\xa1"; $fc[] = "";
$bc[] = "\xe2\x80\xa2"; $fc[] = "-";
$bc[] = "\xe2\x80\xa6"; $fc[] = "...";
$bc[] = "\xe2\x80\xb0"; $fc[] = "";
$bc[] = "\xe2\x80\xb2"; $fc[] = "'";
$bc[] = "\xe2\x80\xb3"; $fc[] = '"';
$bc[] = "\xe2\x80\xb9"; $fc[] = "'";
$bc[] = "\xe2\x80\xba"; $fc[] = "'";
$bc[] = "\xe2\x80\xbe"; $fc[] = "-";
$bc[] = "\xe2\x81\x84"; $fc[] = '/';
$bc[] = "\xe2\x82\xac"; $fc[] = "Euros";
$bc[] = "\xe2\x84\x91"; $fc[] = "";
$bc[] = "\xe2\x84\x98"; $fc[] = "";
$bc[] = "\xe2\x84\x9c"; $fc[] = "";
$bc[] = "\xe2\x84\xa2"; $fc[] = "(TM)";
$bc[] = "\xe2\x84\xb5"; $fc[] = "";
$bc[] = "\xe2\x86\x90"; $fc[] = "<-";
$bc[] = "\xe2\x86\x91"; $fc[] = "^";
$bc[] = "\xe2\x86\x92"; $fc[] = "->";
$bc[] = "\xe2\x86\x93"; $fc[] = "";
$bc[] = "\xe2\x86\x94"; $fc[] = "<<-";
$bc[] = "\xe2\x86\xb5"; $fc[] = "";
$bc[] = "\xe2\x87\x90"; $fc[] = "<->";
$bc[] = "\xe2\x87\x91"; $fc[] = "";
$bc[] = "\xe2\x87\x92"; $fc[] = "";
$bc[] = "\xe2\x87\x93"; $fc[] = "";
$bc[] = "\xe2\x87\x94"; $fc[] = "";
$bc[] = "\xe2\x88\x80"; $fc[] = "";
$bc[] = "\xe2\x88\x82"; $fc[] = "";
$bc[] = "\xe2\x88\x83"; $fc[] = "";
$bc[] = "\xe2\x88\x85"; $fc[] = "";
$bc[] = "\xe2\x88\x87"; $fc[] = "";
$bc[] = "\xe2\x88\x88"; $fc[] = "";
$bc[] = "\xe2\x88\x89"; $fc[] = "";
$bc[] = "\xe2\x88\x8b"; $fc[] = "";
$bc[] = "\xe2\x88\x8F"; $fc[] = "";
$bc[] = "\xe2\x88\x91"; $fc[] = "";
$bc[] = "\xe2\x88\x92"; $fc[] = "-";
$bc[] = "\xe2\x88\x97"; $fc[] = "";
$bc[] = "\xe2\x88\x9a"; $fc[] = "";
$bc[] = "\xe2\x88\x9d"; $fc[] = "";
$bc[] = "\xe2\x88\x9e"; $fc[] = "";
$bc[] = "\xe2\x88\xa0"; $fc[] = "";
$bc[] = "\xe2\x88\xa7"; $fc[] = "";
$bc[] = "\xe2\x88\xa8"; $fc[] = "";
$bc[] = "\xe2\x88\xa9"; $fc[] = "";
$bc[] = "\xe2\x88\xaa"; $fc[] = "";
$bc[] = "\xe2\x88\xab"; $fc[] = "";
$bc[] = "\xe2\x88\xb4"; $fc[] = "";
$bc[] = "\xe2\x88\xbc"; $fc[] = "";
$bc[] = "\xe2\x89\x85"; $fc[] = "";
$bc[] = "\xe2\x89\x88"; $fc[] = "";
$bc[] = "\xe2\x89\xa0"; $fc[] = "";
$bc[] = "\xe2\x89\xa1"; $fc[] = "";
$bc[] = "\xe2\x89\xa4"; $fc[] = "";
$bc[] = "\xe2\x89\xa5"; $fc[] = "";
$bc[] = "\xe2\x8a\x82"; $fc[] = "";
$bc[] = "\xe2\x8a\x83"; $fc[] = "";
$bc[] = "\xe2\x8a\x84"; $fc[] = "";
$bc[] = "\xe2\x8a\x86"; $fc[] = "";
$bc[] = "\xe2\x8a\x87"; $fc[] = "";
$bc[] = "\xe2\x8a\x95"; $fc[] = "";
$bc[] = "\xe2\x8a\x97"; $fc[] = "";
$bc[] = "\xe2\x8a\xa5"; $fc[] = "";
$bc[] = "\xe2\x8b\x85"; $fc[] = "";
$bc[] = "\xe2\x8c\x88"; $fc[] = "";
$bc[] = "\xe2\x8c\x89"; $fc[] = "";
$bc[] = "\xe2\x8c\x8a"; $fc[] = "";
$bc[] = "\xe2\x8c\x8b"; $fc[] = "";
$bc[] = "\xe2\x8c\xa9"; $fc[] = "";
$bc[] = "\xe2\x8c\xaa"; $fc[] = "";
$bc[] = "\xe2\x97\x8a"; $fc[] = "";
$bc[] = "\xe2\x9c\x93"; $fc[] = "check";
$bc[] = "\xe2\x99\xa0"; $fc[] = "";
$bc[] = "\xe2\x99\xa3"; $fc[] = "";
$bc[] = "\xe2\x99\xa5"; $fc[] = "";
$bc[] = "\xe2\x99\xa6"; $fc[] = "";

#$fc = array( "a", "b", "c");
#print "replacing:";
#print_r($bc);
#print "<BR>";
#print_r($fc);

## finally use the mb_convert to ensure only ascii goes out
#return (mb_convert_encoding(str_replace($bc,$fc,$text),'ASCII'));
$text = str_replace($bc,$fc,$text);

## two character multi byte strings
$bc = array();
$fc = array();
$bc[] = "\xc4\x80"; $fc[] = "A";
$bc[] = "\xc4\x81"; $fc[] = "a";
$bc[] = "\xc4\x82"; $fc[] = "A";
$bc[] = "\xc4\x83"; $fc[] = "a";
$bc[] = "\xc4\x84"; $fc[] = "A";
$bc[] = "\xc4\x85"; $fc[] = "a";
$bc[] = "\xc4\x86"; $fc[] = "C";
$bc[] = "\xc4\x87"; $fc[] = "c";
$bc[] = "\xc4\x88"; $fc[] = "C";
$bc[] = "\xc4\x89"; $fc[] = "c";
$bc[] = "\xc4\x8a"; $fc[] = "C";
$bc[] = "\xc4\x8b"; $fc[] = "c";
$bc[] = "\xc4\x8c"; $fc[] = "C";
$bc[] = "\xc4\x8d"; $fc[] = "c";
$bc[] = "\xc4\x8e"; $fc[] = "D";
$bc[] = "\xc4\x8f"; $fc[] = "d";
$bc[] = "\xc4\x90"; $fc[] = "D";
$bc[] = "\xc4\x91"; $fc[] = "d";
$bc[] = "\xc4\x92"; $fc[] = "E";
$bc[] = "\xc4\x93"; $fc[] = "e";
$bc[] = "\xc4\x94"; $fc[] = "E";
$bc[] = "\xc4\x95"; $fc[] = "e";
$bc[] = "\xc4\x96"; $fc[] = "E";
$bc[] = "\xc4\x97"; $fc[] = "e";
$bc[] = "\xc4\x98"; $fc[] = "E";
$bc[] = "\xc4\x99"; $fc[] = "e";
$bc[] = "\xc4\x9a"; $fc[] = "E";
$bc[] = "\xc4\x9b"; $fc[] = "e";
$bc[] = "\xc4\x9c"; $fc[] = "G";
$bc[] = "\xc4\x9d"; $fc[] = "g";
$bc[] = "\xc4\x9e"; $fc[] = "G";
$bc[] = "\xc4\x9f"; $fc[] = "g";
$bc[] = "\xc4\xa0"; $fc[] = "G";
$bc[] = "\xc4\xa1"; $fc[] = "g";
$bc[] = "\xc4\xa2"; $fc[] = "G";
$bc[] = "\xc4\xa3"; $fc[] = "g";
$bc[] = "\xc4\xa4"; $fc[] = "H";
$bc[] = "\xc4\xa5"; $fc[] = "h";
$bc[] = "\xc4\xa6"; $fc[] = "H";
$bc[] = "\xc4\xa7"; $fc[] = "h";
$bc[] = "\xc4\xa8"; $fc[] = "I";
$bc[] = "\xc4\xa9"; $fc[] = "i";
$bc[] = "\xc4\xaa"; $fc[] = "I";
$bc[] = "\xc4\xab"; $fc[] = "i";
$bc[] = "\xc4\xac"; $fc[] = "I";
$bc[] = "\xc4\xad"; $fc[] = "i";
$bc[] = "\xc4\xae"; $fc[] = "I";
$bc[] = "\xc4\xaf"; $fc[] = "i";
$bc[] = "\xc4\xb0"; $fc[] = "I";
$bc[] = "\xc4\xb1"; $fc[] = "i";
$bc[] = "\xc4\xb2"; $fc[] = "IJ";
$bc[] = "\xc4\xb3"; $fc[] = "ij";
$bc[] = "\xc4\xb4"; $fc[] = "J";
$bc[] = "\xc4\xb5"; $fc[] = "j";
$bc[] = "\xc4\xb6"; $fc[] = "K";
$bc[] = "\xc4\xb7"; $fc[] = "k";
$bc[] = "\xc4\xb8"; $fc[] = "K";
$bc[] = "\xc4\xb9"; $fc[] = "L";
$bc[] = "\xc4\xba"; $fc[] = "l";
$bc[] = "\xc4\xbb"; $fc[] = "L";
$bc[] = "\xc4\xbc"; $fc[] = "l";
$bc[] = "\xc4\xbd"; $fc[] = "L";
$bc[] = "\xc4\xbe"; $fc[] = "l";
$bc[] = "\xc4\xbf"; $fc[] = "L";
$bc[] = "\xc5\x80"; $fc[] = "l";
$bc[] = "\xc5\x81"; $fc[] = "L";
$bc[] = "\xc5\x82"; $fc[] = "l";
$bc[] = "\xc5\x83"; $fc[] = "N";
$bc[] = "\xc5\x84"; $fc[] = "n";
$bc[] = "\xc5\x85"; $fc[] = "N";
$bc[] = "\xc5\x86"; $fc[] = "n";
$bc[] = "\xc5\x87"; $fc[] = "N";
$bc[] = "\xc5\x88"; $fc[] = "n";
$bc[] = "\xc5\x89"; $fc[] = "n";
$bc[] = "\xc5\x8a"; $fc[] = "N";
$bc[] = "\xc5\x8b"; $fc[] = "n";
$bc[] = "\xc5\x8c"; $fc[] = "O";
$bc[] = "\xc5\x8d"; $fc[] = "o";
$bc[] = "\xc5\x8e"; $fc[] = "O";
$bc[] = "\xc5\x8f"; $fc[] = "o";
$bc[] = "\xc5\x90"; $fc[] = "O";
$bc[] = "\xc5\x91"; $fc[] = "o";
$bc[] = "\xc5\x92"; $fc[] = "OE";
$bc[] = "\xc5\x93"; $fc[] = "oe";
$bc[] = "\xc5\x94"; $fc[] = "R";
$bc[] = "\xc5\x95"; $fc[] = "r";
$bc[] = "\xc5\x96"; $fc[] = "R";
$bc[] = "\xc5\x97"; $fc[] = "r";
$bc[] = "\xc5\x98"; $fc[] = "R";
$bc[] = "\xc5\x99"; $fc[] = "r";
$bc[] = "\xc5\x9a"; $fc[] = "S";
$bc[] = "\xc5\x9b"; $fc[] = "s";
$bc[] = "\xc5\x9c"; $fc[] = "S";
$bc[] = "\xc5\x9d"; $fc[] = "s";
$bc[] = "\xc5\x9e"; $fc[] = "S";
$bc[] = "\xc5\x9f"; $fc[] = "s";
$bc[] = "\xc5\xa0"; $fc[] = "S";
$bc[] = "\xc5\xa1"; $fc[] = "s";
$bc[] = "\xc5\xa2"; $fc[] = "T";
$bc[] = "\xc5\xa3"; $fc[] = "t";
$bc[] = "\xc5\xa4"; $fc[] = "T";
$bc[] = "\xc5\xa5"; $fc[] = "t";
$bc[] = "\xc5\xa6"; $fc[] = "T";
$bc[] = "\xc5\xa7"; $fc[] = "t";
$bc[] = "\xc5\xa8"; $fc[] = "U";
$bc[] = "\xc5\xa9"; $fc[] = "u";
$bc[] = "\xc5\xaa"; $fc[] = "U";
$bc[] = "\xc5\xab"; $fc[] = "u";
$bc[] = "\xc5\xac"; $fc[] = "U";
$bc[] = "\xc5\xad"; $fc[] = "u";
$bc[] = "\xc5\xae"; $fc[] = "U";
$bc[] = "\xc5\xaf"; $fc[] = "u";
$bc[] = "\xc5\xb0"; $fc[] = "U";
$bc[] = "\xc5\xb1"; $fc[] = "u";
$bc[] = "\xc5\xb2"; $fc[] = "U";
$bc[] = "\xc5\xb3"; $fc[] = "u";
$bc[] = "\xc5\xb4"; $fc[] = "W";
$bc[] = "\xc5\xb5"; $fc[] = "w";
$bc[] = "\xc5\xb6"; $fc[] = "Y";
$bc[] = "\xc5\xb7"; $fc[] = "y";
$bc[] = "\xc5\xb8"; $fc[] = "Y";
$bc[] = "\xc5\xb9"; $fc[] = "Z";
$bc[] = "\xc5\xba"; $fc[] = "z";
$bc[] = "\xc5\xbb"; $fc[] = "Z";
$bc[] = "\xc5\xbc"; $fc[] = "z";
$bc[] = "\xc5\xbd"; $fc[] = "Z";
$bc[] = "\xc5\xbe"; $fc[] = "z";
$bc[] = "\xa7\xa7\xa7\xa7"; $fc[] = "sections ";
$bc[] = "\xa7\xa7"; $fc[] = "section ";
$text = str_replace($bc,$fc,$text);

$bad_time = date('Y-m-d H:i');

$normal_characters = "a-zA-Z0-9\s`~!@#$%^&*()_+-={}|:;<>?,.\/\"\'\\\[\]";
$bad_chars = preg_replace("/[$normal_characters]/", '', $text);
if ( strlen($bad_chars) > 0 ) { 
	error_log("\n$bad_time - [$bad_chars]",3,"/tnsdata/logs/badchars1");
}

return($text);


/*********************************************

CODE BELOW was "changing all multi byte chars" so we could not identify if there were uncleaned up stray chars.
Now we will just leave them and add to above if necessary.


 $arr=array(
chr(133)=>'...',
chr(134)=>'dagger',
chr(135)=>'double dagger',chr(154)=>'s',
  chr(161)=>'A', chr(162)=>'cent', chr(163)=>'Pounds', chr(165)=>'L', chr(166)=>'S', chr(167)=>'section', chr(169)=>'S',
  chr(170)=>'S', chr(171)=>'T', chr(172)=>'Z', chr(174)=>'(R)', chr(175)=>'Z',

chr(176)=>'degree',
  chr(177)=>'a', chr(179)=>'l', chr(181)=>'l', chr(182)=>'s', chr(185)=>'s',
  chr(186)=>'s', chr(187)=>'t', chr(188)=>'z', chr(190)=>'z', chr(191)=>'z',
  chr(192)=>'R', chr(193)=>'A', chr(194)=>'A', chr(195)=>'A', chr(196)=>'A',
  chr(197)=>'L', chr(198)=>'C', chr(199)=>'C', chr(200)=>'C', chr(201)=>'E',
  chr(202)=>'E', chr(203)=>'E', chr(204)=>'E', chr(205)=>'I', chr(206)=>'I',
  chr(207)=>'D', chr(208)=>'D', chr(209)=>'N', chr(210)=>'N', chr(211)=>'O',
  chr(212)=>'O', chr(213)=>'O', chr(214)=>'O', chr(216)=>'R', chr(217)=>'U',
  chr(218)=>'U', chr(219)=>'U', chr(220)=>'U', chr(221)=>'Y', chr(222)=>'T',
  chr(223)=>'s', chr(224)=>'r', chr(225)=>'a', chr(226)=>'a', chr(227)=>'a',
  chr(228)=>'a', chr(229)=>'l', chr(230)=>'c', chr(231)=>'c', chr(232)=>'c',
  chr(233)=>'e', chr(234)=>'e', chr(235)=>'e', chr(236)=>'e', chr(237)=>'i',
  chr(238)=>'i', chr(239)=>'d', chr(240)=>'d', chr(241)=>'n', chr(242)=>'n',
  chr(243)=>'o', chr(244)=>'o', chr(245)=>'o', chr(246)=>'o', chr(248)=>'r',
  chr(249)=>'u', chr(250)=>'u', chr(251)=>'u', chr(252)=>'u', chr(253)=>'y',
  chr(254)=>'t', chr(255)=>'y'
 );

$text = strtr($text,$arr);


$badwordchars = array(chr(145),chr(146),chr(147), chr(148),chr(150), chr(151),chr(128));
$fixedwordchars = array("'","'",'"','"','-','--','Euros');
return (str_replace($badwordchars,$fixedwordchars,$text));
*********/

}

